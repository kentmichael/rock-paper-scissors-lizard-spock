{"version":3,"sources":["script.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_get","Reflect","get","target","property","receiver","base","_superPropBase","desc","Object","getOwnPropertyDescriptor","call","arguments","length","value","apply","this","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","TypeError","create","writable","configurable","defineProperty","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","props","i","descriptor","enumerable","key","_createClass","protoProps","staticProps","_defineProperty","btnRulesModal","document","querySelector","addEventListener","checkModalStatus","remove","createModal","dialog","createElement","h2","closeBtn","classList","add","innerText","id","append","body","appendChild","close","showModal","Player","type","beats","_options","Computer","_Player","_super","randomPick","Math","floor","random","find","el","User","_Player2","_super2","btnPick","_this","undefined","score","operation","event","pick","matches","decideWinner","dataset","console","log","_score","set","_ref","computer","user","userPick","computerPick","status","includes","showEndState","_ref2","playAgain","querySelectorAll","appDefaultState","appEndState","header","forEach","element","setAttribute","concat"],"mappings":"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","file":"script.js","sourcesContent":["\"use-strict\"\r\n\r\nconst btnRulesModal = document.querySelector(\"#rules-btn\")\r\n\r\nbtnRulesModal.addEventListener(\"click\", () => {\r\n  checkModalStatus()\r\n})\r\n\r\nconst checkModalStatus = () => {\r\n  if (document.querySelector(\".rules\"))\r\n    document.querySelector(\".rules\").remove()\r\n  else createModal()\r\n}\r\n\r\nconst createModal = () => {\r\n  const dialog = document.createElement(\"dialog\")\r\n  const h2 = document.createElement(\"h2\")\r\n  const closeBtn = document.createElement(\"button\")\r\n\r\n  dialog.classList.add(\"rules\")\r\n  h2.innerText = \"Rules\"\r\n  closeBtn.id = \"close-btn\"\r\n  dialog.append(h2, closeBtn)\r\n  document.body.appendChild(dialog)\r\n  closeBtn.addEventListener(\"click\", () => {\r\n    dialog.close()\r\n    dialog.remove()\r\n    document.body.classList.remove(\"fixed\")\r\n  })\r\n  dialog.showModal()\r\n  document.body.classList.add(\"fixed\")\r\n}\r\n\r\nclass Player {\r\n  _options = [\r\n    {\r\n      type: \"scissors\",\r\n      beats: [\"paper\", \"lizard\"],\r\n    },\r\n    {\r\n      type: \"paper\",\r\n      beats: [\"rock\", \"spock\"],\r\n    },\r\n    {\r\n      type: \"rock\",\r\n      beats: [\"lizard\", \"scissors\"],\r\n    },\r\n    {\r\n      type: \"lizard\",\r\n      beats: [\"spock\", \"paper\"],\r\n    },\r\n    {\r\n      type: \"spock\",\r\n      beats: [\"scissors\", \"rock\"],\r\n    },\r\n  ]\r\n\r\n  get options() {\r\n    return this._options\r\n  }\r\n}\r\n\r\nclass Computer extends Player {\r\n  constructor() {\r\n    super()\r\n  }\r\n\r\n  pick() {\r\n    const randomPick = Math.floor(Math.random() * 5)\r\n    const picked = super.options.find((el, id) => id === randomPick)\r\n    return picked\r\n  }\r\n}\r\n\r\nclass User extends Player {\r\n  _score = 0\r\n\r\n  constructor(btnPick, value = 0) {\r\n    super()\r\n    this.score = { value, operation: \"add\" }\r\n    this.btnPick = btnPick\r\n    this.btnPick.addEventListener(\"click\", (event) => this.pick(event))\r\n  }\r\n\r\n  pick(event) {\r\n    if (event.target.matches(\".pick\")) {\r\n      const choice = event.target.dataset.value\r\n      switch (decideWinner(choice)) {\r\n        case \"Win\":\r\n          this.score = { value: 1, operation: \"add\" }\r\n          break\r\n        case \"Lose\":\r\n          this.score = { value: 1, operation: \"minus\" }\r\n          break\r\n      }\r\n      console.log(this.score)\r\n    }\r\n  }\r\n\r\n  get score() {\r\n    return this._score\r\n  }\r\n\r\n  set score({ value, operation }) {\r\n    if (operation === \"add\") this._score = this.score + value\r\n    else this._score = this.score ? this.score - value : 0\r\n  }\r\n}\r\n\r\nconst btnPick = document.querySelector(\"main\")\r\nconst computer = new Computer()\r\nconst user = new User(btnPick)\r\n\r\nfunction decideWinner(userPick) {\r\n  const computerPick = computer.pick()\r\n  let status = \"Draw\"\r\n  console.log(userPick)\r\n  console.log(computerPick)\r\n\r\n  if (userPick !== computerPick.type) {\r\n    status = computerPick.beats.includes(userPick) ? \"Lose\" : \"Win\"\r\n  }\r\n\r\n  showEndState({ status, computerPick: computerPick.type, userPick })\r\n  return status\r\n}\r\n\r\nfunction showEndState({ status, computerPick, userPick }) {\r\n  console.log(status)\r\n  const playAgain = document.querySelectorAll(\".play-again\")\r\n  const appDefaultState = document.querySelector(\".start\")\r\n  const appEndState = document.querySelector(\".end\")\r\n  const user = document.querySelector(\"#user\")\r\n  const computer = document.querySelector(\"#computer\")\r\n  const result = document.querySelectorAll(\".result\")\r\n  const header = document.querySelector(\"header\")\r\n\r\n  playAgain.forEach((element) => {\r\n    element.addEventListener(\"click\", () => {\r\n      appDefaultState.classList.remove(\"hide\")\r\n      appEndState.classList.add(\"hide\")\r\n      user.setAttribute(\"class\", \"\")\r\n      computer.setAttribute(\"class\", \"\")\r\n    })\r\n  })\r\n\r\n  appDefaultState.classList.add(\"hide\")\r\n  appEndState.classList.remove(\"hide\")\r\n  user.classList.add(`end__blk1--${userPick}`)\r\n  computer.classList.add(`end__blk1--${computerPick}`)\r\n  result.forEach(\r\n    (element) =>\r\n      (element.innerText = status === \"Draw\" ? \"Draw\" : `You ${status}`)\r\n  )\r\n  header.classList.add(\"header__endState\")\r\n}\r\n"]}