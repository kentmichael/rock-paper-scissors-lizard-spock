{"version":3,"sources":["script.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_Number","_get","Reflect","get","target","property","receiver","base","_superPropBase","desc","Object","getOwnPropertyDescriptor","call","arguments","length","value","apply","this","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","TypeError","create","writable","configurable","defineProperty","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","props","i","descriptor","enumerable","key","_createClass","protoProps","staticProps","_defineProperty","btnRulesModal","document","querySelector","addEventListener","checkModalStatus","remove","createModal","dialog","createElement","h2","closeBtn","classList","add","innerText","id","setAttribute","append","body","appendChild","close","showModal","window","Player","type","beats","_options","Computer","_Player","_super","randomPick","Math","floor","random","find","el","User","_Player2","_super2","btnPick","_this","gameData","undefined","score","initialLoad","operation","event","pick","updateScore","matches","choice","dataset","decideWinner","_score","set","_ref","_ref$value","localStorage","setItem","Number","getItem","computer","user","userPick","computerPick","status","includes","showEndState","_ref2","playAgain","querySelectorAll","appDefaultState","appEndState","header","mobileResult","desktopWidth","desktopResult","forEach","element","concat","setTimeout","scoreBoard"],"mappings":"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","file":"script.js","sourcesContent":["\"use-strict\"\r\n\r\nconst btnRulesModal = document.querySelector(\"#rules-btn\")\r\n\r\nbtnRulesModal.addEventListener(\"click\", () => {\r\n  checkModalStatus()\r\n})\r\n\r\nconst checkModalStatus = () => {\r\n  if (document.querySelector(\".rules\"))\r\n    document.querySelector(\".rules\").remove()\r\n  else createModal()\r\n}\r\n\r\nconst createModal = () => {\r\n  const dialog = document.createElement(\"dialog\")\r\n  const h2 = document.createElement(\"h2\")\r\n  const closeBtn = document.createElement(\"button\")\r\n\r\n  dialog.classList.add(\"rules\")\r\n  h2.innerText = \"Rules\"\r\n  closeBtn.id = \"close-btn\"\r\n  closeBtn.setAttribute(\"aria-label\", \"Close\")\r\n  dialog.append(h2, closeBtn)\r\n  document.body.appendChild(dialog)\r\n  closeBtn.addEventListener(\"click\", () => {\r\n    dialog.close()\r\n    dialog.remove()\r\n    document.body.classList.remove(\"fixed\")\r\n  })\r\n  dialog.showModal()\r\n  document.body.classList.add(\"fixed\")\r\n}\r\n\r\nwindow.addEventListener(\"keydown\", (e) => {\r\n  if (document.querySelector(\".rules\") && e.key === \"Escape\") {\r\n    document.querySelector(\".rules\").remove()\r\n    document.body.classList.remove(\"fixed\")\r\n  }\r\n})\r\n\r\nclass Player {\r\n  _options = [\r\n    {\r\n      type: \"scissors\",\r\n      beats: [\"paper\", \"lizard\"],\r\n    },\r\n    {\r\n      type: \"paper\",\r\n      beats: [\"rock\", \"spock\"],\r\n    },\r\n    {\r\n      type: \"rock\",\r\n      beats: [\"lizard\", \"scissors\"],\r\n    },\r\n    {\r\n      type: \"lizard\",\r\n      beats: [\"spock\", \"paper\"],\r\n    },\r\n    {\r\n      type: \"spock\",\r\n      beats: [\"scissors\", \"rock\"],\r\n    },\r\n  ]\r\n\r\n  get options() {\r\n    return this._options\r\n  }\r\n}\r\n\r\nclass Computer extends Player {\r\n  constructor() {\r\n    super()\r\n  }\r\n\r\n  randomPick() {\r\n    const randomPick = Math.floor(Math.random() * 5)\r\n    const picked = super.options.find((el, id) => id === randomPick)\r\n    return picked\r\n  }\r\n}\r\n\r\nclass User extends Player {\r\n  _score = 0\r\n\r\n  constructor(btnPick, gameData = 0) {\r\n    super()\r\n    this.score = { initialLoad: true, operation: \"add\", value: gameData }\r\n    this.btnPick = btnPick\r\n    this.btnPick.addEventListener(\"click\", (event) => this.pick(event))\r\n    updateScore(this.score)\r\n  }\r\n\r\n  pick(event) {\r\n    if (event.target.matches(\".pick\")) {\r\n      const choice = event.target.dataset.value\r\n      const userPick = super.options.find((el) => el.type === choice)\r\n      switch (decideWinner(userPick)) {\r\n        case \"Win\":\r\n          this.score = { initialLoad: false, operation: \"add\" }\r\n          break\r\n        case \"Lose\":\r\n          this.score = { initialLoad: false, operation: \"minus\" }\r\n          break\r\n      }\r\n    }\r\n  }\r\n\r\n  get score() {\r\n    return this._score\r\n  }\r\n\r\n  set score({ initialLoad, operation, value = 1 }) {\r\n    if (operation === \"add\") this._score = this.score + value\r\n    else this._score = this.score ? this.score - value : 0\r\n    updateScore(this.score, initialLoad)\r\n    localStorage.setItem(\"RPSLS_Game_Score\", this.score)\r\n  }\r\n}\r\n\r\nconst gameData = Number(localStorage.getItem(\"RPSLS_Game_Score\")) ?? 0\r\nconst btnPick = document.querySelector(\"main\")\r\nconst computer = new Computer()\r\nconst user = new User(btnPick, gameData)\r\n\r\nfunction decideWinner(userPick) {\r\n  const computerPick = computer.randomPick()\r\n  let status = \"Draw\"\r\n\r\n  if (userPick.type !== computerPick.type) {\r\n    status = computerPick.beats.includes(userPick.type) ? \"Lose\" : \"Win\"\r\n  }\r\n\r\n  showEndState({\r\n    status,\r\n    computerPick: computerPick.type,\r\n    userPick: userPick.type,\r\n  })\r\n  return status\r\n}\r\n\r\nfunction showEndState({ status, computerPick, userPick }) {\r\n  const playAgain = document.querySelectorAll(\".play-again\")\r\n  const appDefaultState = document.querySelector(\".start\")\r\n  const appEndState = document.querySelector(\".end\")\r\n  const user = document.querySelector(\"#user\")\r\n  const computer = document.querySelector(\"#computer\")\r\n  const result = document.querySelectorAll(\".result\")\r\n  const header = document.querySelector(\"header\")\r\n  const mobileResult = document.querySelector(\".end__blk2\")\r\n  const desktopWidth = document.querySelector(\".end\")\r\n  const desktopResult = document.querySelector(\".end__blk1--result\")\r\n\r\n  playAgain.forEach((element) => {\r\n    element.addEventListener(\"click\", () => {\r\n      appDefaultState.classList.remove(\"hide\")\r\n      appEndState.classList.add(\"hide\")\r\n      header.classList.remove(\"header__endState\")\r\n      user.setAttribute(\"class\", \"\")\r\n      computer.setAttribute(\"class\", \"\")\r\n    })\r\n  })\r\n\r\n  appDefaultState.classList.add(\"hide\")\r\n  appEndState.classList.remove(\"hide\")\r\n  header.classList.add(\"header__endState\")\r\n  user.classList.add(`end__blk1--${userPick}`)\r\n  computer.classList.add(`end__blk1--picking`)\r\n  mobileResult.classList.add(\"transition\")\r\n  desktopResult.classList.add(\"transition\")\r\n  desktopWidth.classList.add(\"desktop-width\")\r\n\r\n  setTimeout(() => {\r\n    computer.classList.remove(`end__blk1--picking`)\r\n    computer.classList.add(`end__blk1--${computerPick}`)\r\n  }, 700)\r\n\r\n  setTimeout(() => {\r\n    if (status !== \"Draw\") {\r\n      status === \"Win\"\r\n        ? user.classList.add(\"winner\")\r\n        : computer.classList.add(\"winner\")\r\n    }\r\n    mobileResult.classList.remove(\"transition\")\r\n    desktopResult.classList.remove(\"transition\")\r\n    desktopWidth.classList.remove(\"desktop-width\")\r\n  }, 1100)\r\n\r\n  result.forEach(\r\n    (element) =>\r\n      (element.innerText = status === \"Draw\" ? \"Draw\" : `You ${status}`)\r\n  )\r\n}\r\n\r\nfunction updateScore(score, initialLoad) {\r\n  const scoreBoard = document.querySelector(\"#score-board\")\r\n  if (!initialLoad)\r\n    return setTimeout(() => (scoreBoard.innerText = score), 1800)\r\n  scoreBoard.innerText = score\r\n}\r\n"]}