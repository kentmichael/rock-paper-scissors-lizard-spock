{"version":3,"sources":["script.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_Number","_get","Reflect","get","target","property","receiver","base","_superPropBase","desc","Object","getOwnPropertyDescriptor","call","arguments","length","value","apply","this","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","TypeError","create","writable","configurable","defineProperty","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","props","i","descriptor","enumerable","key","_createClass","protoProps","staticProps","_defineProperty","btnRulesModal","document","querySelector","addEventListener","checkModalStatus","remove","createModal","dialog","createElement","h2","closeBtn","classList","add","innerText","id","setAttribute","append","body","appendChild","close","showModal","Player","type","beats","_options","Computer","_Player","_super","randomPick","Math","floor","random","find","el","User","_Player2","_super2","btnPick","_this","gameData","undefined","score","initialLoad","operation","event","pick","updateScore","matches","choice","dataset","decideWinner","_score","set","_ref","_ref$value","localStorage","setItem","Number","getItem","computer","user","userPick","computerPick","status","includes","showEndState","_ref2","playAgain","querySelectorAll","appDefaultState","appEndState","header","mobileResult","desktopWidth","desktopResult","forEach","element","concat","setTimeout","scoreBoard"],"mappings":"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","file":"script.js","sourcesContent":["\"use-strict\"\r\n\r\nconst btnRulesModal = document.querySelector(\"#rules-btn\")\r\n\r\nbtnRulesModal.addEventListener(\"click\", () => {\r\n  checkModalStatus()\r\n})\r\n\r\nconst checkModalStatus = () => {\r\n  if (document.querySelector(\".rules\"))\r\n    document.querySelector(\".rules\").remove()\r\n  else createModal()\r\n}\r\n\r\nconst createModal = () => {\r\n  const dialog = document.createElement(\"dialog\")\r\n  const h2 = document.createElement(\"h2\")\r\n  const closeBtn = document.createElement(\"button\")\r\n\r\n  dialog.classList.add(\"rules\")\r\n  h2.innerText = \"Rules\"\r\n  closeBtn.id = \"close-btn\"\r\n  closeBtn.setAttribute(\"aria-label\", \"Close\")\r\n  dialog.append(h2, closeBtn)\r\n  document.body.appendChild(dialog)\r\n  closeBtn.addEventListener(\"click\", () => {\r\n    dialog.close()\r\n    dialog.remove()\r\n    document.body.classList.remove(\"fixed\")\r\n  })\r\n  dialog.showModal()\r\n  document.body.classList.add(\"fixed\")\r\n}\r\n\r\nclass Player {\r\n  _options = [\r\n    {\r\n      type: \"scissors\",\r\n      beats: [\"paper\", \"lizard\"],\r\n    },\r\n    {\r\n      type: \"paper\",\r\n      beats: [\"rock\", \"spock\"],\r\n    },\r\n    {\r\n      type: \"rock\",\r\n      beats: [\"lizard\", \"scissors\"],\r\n    },\r\n    {\r\n      type: \"lizard\",\r\n      beats: [\"spock\", \"paper\"],\r\n    },\r\n    {\r\n      type: \"spock\",\r\n      beats: [\"scissors\", \"rock\"],\r\n    },\r\n  ]\r\n\r\n  get options() {\r\n    return this._options\r\n  }\r\n}\r\n\r\nclass Computer extends Player {\r\n  constructor() {\r\n    super()\r\n  }\r\n\r\n  randomPick() {\r\n    const randomPick = Math.floor(Math.random() * 5)\r\n    const picked = super.options.find((el, id) => id === randomPick)\r\n    return picked\r\n  }\r\n}\r\n\r\nclass User extends Player {\r\n  _score = 0\r\n\r\n  constructor(btnPick, gameData = 0) {\r\n    super()\r\n    this.score = { initialLoad: true, operation: \"add\", value: gameData }\r\n    this.btnPick = btnPick\r\n    this.btnPick.addEventListener(\"click\", (event) => this.pick(event))\r\n    updateScore(this.score)\r\n  }\r\n\r\n  pick(event) {\r\n    if (event.target.matches(\".pick\")) {\r\n      const choice = event.target.dataset.value\r\n      const userPick = super.options.find((el) => el.type === choice)\r\n      switch (decideWinner(userPick)) {\r\n        case \"Win\":\r\n          this.score = { initialLoad: false, operation: \"add\" }\r\n          break\r\n        case \"Lose\":\r\n          this.score = { initialLoad: false, operation: \"minus\" }\r\n          break\r\n      }\r\n    }\r\n  }\r\n\r\n  get score() {\r\n    return this._score\r\n  }\r\n\r\n  set score({ initialLoad, operation, value = 1 }) {\r\n    if (operation === \"add\") this._score = this.score + value\r\n    else this._score = this.score ? this.score - value : 0\r\n    updateScore(this.score, initialLoad)\r\n    localStorage.setItem(\"RPSLS_Game_Score\", this.score)\r\n  }\r\n}\r\n\r\nconst gameData = Number(localStorage.getItem(\"RPSLS_Game_Score\")) ?? 0\r\nconst btnPick = document.querySelector(\"main\")\r\nconst computer = new Computer()\r\nconst user = new User(btnPick, gameData)\r\n\r\nfunction decideWinner(userPick) {\r\n  const computerPick = computer.randomPick()\r\n  let status = \"Draw\"\r\n\r\n  if (userPick.type !== computerPick.type) {\r\n    status = computerPick.beats.includes(userPick.type) ? \"Lose\" : \"Win\"\r\n  }\r\n\r\n  showEndState({\r\n    status,\r\n    computerPick: computerPick.type,\r\n    userPick: userPick.type,\r\n  })\r\n  return status\r\n}\r\n\r\nfunction showEndState({ status, computerPick, userPick }) {\r\n  const playAgain = document.querySelectorAll(\".play-again\")\r\n  const appDefaultState = document.querySelector(\".start\")\r\n  const appEndState = document.querySelector(\".end\")\r\n  const user = document.querySelector(\"#user\")\r\n  const computer = document.querySelector(\"#computer\")\r\n  const result = document.querySelectorAll(\".result\")\r\n  const header = document.querySelector(\"header\")\r\n  const mobileResult = document.querySelector(\".end__blk2\")\r\n  const desktopWidth = document.querySelector(\".end\")\r\n  const desktopResult = document.querySelector(\".end__blk1--result\")\r\n\r\n  playAgain.forEach((element) => {\r\n    element.addEventListener(\"click\", () => {\r\n      appDefaultState.classList.remove(\"hide\")\r\n      appEndState.classList.add(\"hide\")\r\n      header.classList.remove(\"header__endState\")\r\n      user.setAttribute(\"class\", \"\")\r\n      computer.setAttribute(\"class\", \"\")\r\n    })\r\n  })\r\n\r\n  appDefaultState.classList.add(\"hide\")\r\n  appEndState.classList.remove(\"hide\")\r\n  header.classList.add(\"header__endState\")\r\n  user.classList.add(`end__blk1--${userPick}`)\r\n  computer.classList.add(`end__blk1--picking`)\r\n  mobileResult.classList.add(\"transition\")\r\n  desktopResult.classList.add(\"transition\")\r\n  desktopWidth.classList.add(\"desktop-width\")\r\n\r\n  setTimeout(() => {\r\n    computer.classList.remove(`end__blk1--picking`)\r\n    computer.classList.add(`end__blk1--${computerPick}`)\r\n  }, 700)\r\n\r\n  setTimeout(() => {\r\n    if (status !== \"Draw\") {\r\n      status === \"Win\"\r\n        ? user.classList.add(\"winner\")\r\n        : computer.classList.add(\"winner\")\r\n    }\r\n    mobileResult.classList.remove(\"transition\")\r\n    desktopResult.classList.remove(\"transition\")\r\n    desktopWidth.classList.remove(\"desktop-width\")\r\n  }, 1100)\r\n\r\n  result.forEach(\r\n    (element) =>\r\n      (element.innerText = status === \"Draw\" ? \"Draw\" : `You ${status}`)\r\n  )\r\n}\r\n\r\nfunction updateScore(score, initialLoad) {\r\n  const scoreBoard = document.querySelector(\"#score-board\")\r\n  if (!initialLoad)\r\n    return setTimeout(() => (scoreBoard.innerText = score), 1800)\r\n  scoreBoard.innerText = score\r\n}\r\n"]}